# Collage ERP Project Report

**Submission Date:** 16-12-25
**Course:** DevOps Lab Project
**Topic:** Automating CI/CD for Collage ERP using Jenkins, Docker, Kubernetes, Prometheus, and Grafana.

---

## 1. Application Overview
The "Collage ERP" is a simple Web Application developed using Node.js and Express. It manages Student records (CRUD operations) and uses SQLite as a database backend. To ensure data persistence in a containerized environment, Kubernetes PersistentVolumeClaims (PVC) are utilized.

### Key Files:
- `server.js`: Main application logic.
- `views/index.ejs`: Frontend UI.
- `Dockerfile`: Container image definition.

## 2. CI/CD Pipeline with Jenkins
A `Jenkinsfile` has been created to automate the pipeline stages:
1.  **Code Fetch**: Pulls code from the GitHub repository.
2.  **Docker Image Creation**: Builds the Docker image `collage-erp`.
3.  **Push to DockerHub**: Pushes the image to the registry.
4.  **Kubernetes Deployment**: Deploys the application and database volume to the cluster.

## 3. Kubernetes Deployment
The application is deployed using the following manifests in the `k8s/` directory:
- `pvc.yaml`: Requests 1Gi storage for the SQLite database.
- `deployment.yaml`: Manages the application pods and mounts the PVC.
- `service.yaml`: Exposes the application via NodePort (30007).

## 4. Monitoring Setup
The application exposes metrics at `/metrics` using `prom-client`.
- **Prometheus**: Deployed via `monitoring/prometheus-deployment.yaml` and scraping configured via `monitoring/prometheus-config.yaml`. Accessible on NodePort 30008.
- **Grafana**: Deployed via `monitoring/grafana-deployment.yaml` for visualizing metrics. Accessible on NodePort 30009.

## 5. How to Run
1.  Push this code to your GitHub Repository.
2.  Configure Jenkins with DockerHub and Kubernetes credentials.
3.  Create a Multibranch Pipeline or Pipeline job in Jenkins pointing to your Git repo.
4.  Run the build.
5.  Access the App at `http://<node-ip>:30007`.
6.  Access Prometheus at `http://<node-ip>:30008` and Grafana at `http://<node-ip>:30009`.

---
*Generated by Antigravity*
